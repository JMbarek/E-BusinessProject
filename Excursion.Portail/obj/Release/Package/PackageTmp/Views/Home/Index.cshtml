@using MvcGlobalisationSupport;
@using Excursion.Portail.Resources;
@{
    Layout = "_LayoutOrig.cshtml";
    ViewBag.Title = "Home Page";
}

@*<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script src="@Url.Content("~/Scripts/stupidtable.js")" type="text/javascript"></script>
  <script type="text/javascript">
    $(function(){
      // Helper function to convert a string of the form "Mar 15, 1987" into
      // a Date object.
      var date_from_string = function(str){
        var months = ["jan","feb","mar","apr","may","jun","jul",
                      "aug","sep","oct","nov","dec"];
        var pattern = "^([a-zA-Z]{3})\\s*(\\d{2}),\\s*(\\d{4})$";
        var re = new RegExp(pattern);
        var DateParts = re.exec(str).slice(1);

        var Year = DateParts[2];
        var Month = $.inArray(DateParts[0].toLowerCase(), months);
        var Day = DateParts[1];
        return new Date(Year, Month, Day);
      }

      var moveBlanks = function(a, b) {
        if ( a < b ){
          if (a == "")
            return 1;
          else
            return -1;
        }
        if ( a > b ){
          if (b == "")
            return -1;
          else
            return 1;
        }
        return 0;
      };
      var moveBlanksDesc = function(a, b) {
        // Blanks are by definition the smallest value, so we don't have to
        // worry about them here
        if ( a < b )
          return 1;
        if ( a > b )
          return -1;
        return 0;
      };

      var table = $("table").stupidtable({
        "date":function(a,b){
          // Get these into date objects for comparison.

          aDate = date_from_string(a);
          bDate = date_from_string(b);

          return aDate - bDate;
        },
        "moveBlanks": moveBlanks,
        "moveBlanksDesc": moveBlanksDesc,
      });

      table.on("beforetablesort", function (event, data) {
        // data.column - the index of the column sorted after a click
        // data.direction - the sorting direction (either asc or desc)
        $("#msg").text("Sorting index " + data.column)
      });

      table.on("aftertablesort", function (event, data) {
        var th = $(this).find("th");
        th.find(".arrow").remove();
        var dir = $.fn.stupidtable.dir;

        var arrow = data.direction === dir.ASC ? "&uarr;" : "&darr;";
        th.eq(data.column).append('<span class="arrow">' + arrow +'</span>');
      });

      $("tr").slice(1).click(function(){
        $(".awesome").removeClass("awesome");
        $(this).addClass("awesome");
      });

    });
  </script>
  <style type="text/css">
    table {
      border-collapse: collapse;
    }
    th, td {
      padding: 5px 10px;
      border: 1px solid #999;
    }
    th {
      background-color: #eee;
    }
    th[data-sort]{
      cursor:pointer;
    }
    tr.awesome{
      color: red;
    }
    #msg {
      color: green;
    }
  </style>
  *@

<style type="text/css">
    #tableSorties tr
    {
        border-bottom: 1px solid black;
    }
</style>
@*<script type="text/javascript" src="../../Scripts/paging.js"></script>*@ @*<link href="../../Content/themes/base/jquery.ui.all.css" rel="stylesheet" type="text/css" />*@
@*<script src="../../Scripts/jquery-1.7.1.js" type="text/javascript"></script>
<script src="../../Scripts/jquery-1.7.1.min.js" type="text/javascript"></script>
<script src="../../Scripts/jquery-ui-1.8.20.min.js" type="text/javascript"></script>
*@ @*<script type="text/javascript" src="http://code.jquery.com/jquery-1.8.3.js"></script>*@
<script src="../../Scripts/jquery-1.5.1.min.js" type="text/javascript"></script>
<script src="../../Scripts/jquery-ui-1.8.11.min.js" type="text/javascript"></script>
<link href="../../Content/Site.css" rel="stylesheet" type="text/css" />
<link rel="stylesheet" type="text/css" media="screen" href="../../ScriptsJqGrid/Scripts/jqgrid/themes/redmond/jquery-ui-1.7.1.custom.css" />
<link rel="stylesheet" type="text/css" media="screen" href="../../ScriptsJqGrid/Scripts/jqgrid/themes/ui.jqgrid.css" />
<link href="../../ScriptsJqGrid/Content/ui.daterangepicker.css" rel="stylesheet"
    type="text/css" />
@*  <script src="../../ScriptsJqGrid/Scripts/jquery-1.3.2.min.js" type="text/javascript"></script>
    <script src="../../ScriptsJqGrid/Scripts/jquery-ui-1.7.2.custom.min.js" type="text/javascript"></script>*@
<script src="../../ScriptsJqGrid/Scripts/jqgrid/js/jquery.layout.js" type="text/javascript"></script>
<script src="../../ScriptsJqGrid/Scripts/jqgrid/js/i18n/grid.locale-en.js" type="text/javascript"></script>
<script src="../../ScriptsJqGrid/Scripts/jqgrid/js/jquery.jqGrid.min.js" type="text/javascript"></script>
<script src="../../ScriptsJqGrid/Scripts/jqgrid/js/jquery.tablednd.js" type="text/javascript"></script>
<script src="../../ScriptsJqGrid/Scripts/jqgrid/js/jquery.contextmenu.js" type="text/javascript"></script>
<script src="../../ScriptsJqGrid/Scripts/daterangepicker.jQuery.js" type="text/javascript"></script>
@* <input type="text" id="txtFromDate" name="txtFromDate" value="@DateTime.Now.ToShortDateString()" class="dtp" />
    <input type="text" id="txtToDate" name="txtToDate" value="@DateTime.Now.ToShortDateString()" class="dtp"/> *@
@*   <link href="../../JqGrid/Content/ui.jqgrid.css" rel="stylesheet" type="text/css" />
   <link href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.7.2/themes/start/jquery-ui.css" rel="Stylesheet" type="text/css" />
    <link href="../../Content/Site.css" rel="stylesheet" type="text/css" />
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js" type="text/javascript"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.7.2/jquery-ui.min.js" type="text/javascript"></script>
    <script src="../../JqGrid/Scripts/jquery.validate.min.js" type="text/javascript"></script>
    <script src="../../JqGrid/Scripts/grid.locale-en.js" type="text/javascript"></script>
    <script src="../../JqGrid/Scripts/jquery.jqGrid.min.js" type="text/javascript"></script>*@
<script src="../../JqGrid/Scripts/jquery.maskedinput-1.2.2.min.js" type="text/javascript"></script>

<script type="text/javascript">

    $(window).load(function () {
        function pagination() {
            $('table[data-provide=pagination]').each(function () {
                var $table = $(this);
                var $pager = $('<ul></ul>');
                var currentPage = 0;
                var numPerPage = $("#instancesPerPage").val();
                var numRows = $table.find('tbody tr').length;
                var numPages = Math.ceil(numRows / numPerPage);

                $table.unbind('repaginate');

                $table.bind('repaginate', function () {
                    $table.find('tbody tr').hide().slice(currentPage * numPerPage, (currentPage + 1) * numPerPage).show();
                });

                for (var page = 0; page < numPages; page++) {
                    var link = '<a href=#null >' + (parseInt(page) + 1).toString() + '</a>';

                    $('<td width="5px"></td>').html(link).on('click', { newPage: page }, function (event) {
                        currentPage = event.data['newPage'];
                        $table.trigger('repaginate');
                        $(this).addClass('active').siblings().removeClass('active');
                    }).appendTo($pager);
                }

                $pager.find("li:first-child").addClass('active');
                $($table.data('pager')).html($pager);
                $table.trigger('repaginate');
            });
        };

        pagination();

        $('#instancesPerPage').on("change", function () {
            pagination();
        });

    });


</script>

<script type="text/javascript">


    function showLabel() {
        document.getElementById('labelDesert').style.visibility = "visible";
        document.getElementById('labelSea').style.visibility = "visible";
        document.getElementById('labelArch').style.visibility = "visible";
        document.getElementById('labelTalas').style.visibility = "visible";
        document.getElementById('labelGolf').style.visibility = "visible";
    }

    function hideLabel() {
        document.getElementById('labelDesert').style.visibility = "hidden";
        document.getElementById('labelSea').style.visibility = "hidden";
        document.getElementById('labelArch').style.visibility = "hidden";
        document.getElementById('labelTalas').style.visibility = "hidden";
        document.getElementById('labelGolf').style.visibility = "hidden";
    }


   
</script>
<table>
    <tr>
        <td style="width: 200px">
            <section class="featured">
                <div class="content-wrapper2">
                    @Html.Partial("~/Views/Shared/_SearchExcursionPartial.cshtml", null, new ViewDataDictionary { { "Key", ViewData["ThemeList"] } })
                </div>
            </section>
        </td>
        @*<td>
            <section>
                &nbsp
            </section>
        </td>*@
        <td>
            <section class="featured">
                <div class="content-wrapper">
                    <label>
                        Recherche Par Thème :
                    </label>
                    <label style="visibility: hidden" id="labelDesert">
                        Desert
                    </label>
                    <a onmouseover="showLabel()" onmouseout="hideLabel()" href="@Url.Action("SearchByTheme", "Sortie", new { Theme = "Desert" })">
                        <img alt="Desert" src="/Images/Img/Theme/5.jpg" width="150" height="100" /></a>
                    
                    <label style="visibility: hidden" id="labelTalas">
                        Thalassothérapie
                    </label>
                    <a onmouseover="showLabel()" onmouseout="hideLabel()" href="@Url.Action("SearchByTheme", "Sortie", new { Theme = "Thalaso" })">
                        <img alt="Thalaso" src="/Images/Img/Theme/4.jpg" width="150" height="100" /></a>
                    <label style="visibility: hidden" id="labelArch">
                        Archéologie
                    </label>
                    <a onmouseover="showLabel()" onmouseout="hideLabel()" href="@Url.Action("SearchByTheme", "Sortie", new { Theme = "Archeologie" })">
                        <img alt="Archeologie" src="/Images/Img/Theme/1.jpg" width="150" height="100" /></a>
                    <label style="visibility: hidden" id="labelSea">
                        Sea
                    </label>
                    <a  onmouseover="showLabel()" onmouseout="hideLabel()" href="@Url.Action("SearchByTheme", "Sortie", new { Theme = "Sea" })">
                        <img alt="Sea" src="/Images/Img/Theme/2.jpg" width="150" height="100" /></a>
                    <label style="visibility: hidden" id="labelGolf">
                        Golf
                    </label>
                    <a onmouseover="showLabel()" onmouseout="hideLabel()" href="@Url.Action("SearchByTheme", "Sortie", new { Theme = "Golf" })">
                        <img alt="Golf" src="/Images/Img/Theme/3.jpg" width="150" height="100" /></a>
                </div>
            </section>
        </td>
    </tr>
    <tr>
        <td>
            @*<section class="featured">
                <div class="content-wrapper">
                    <a href="@Url.Action("SearchByTheme", "Sortie", new { Theme = "Desert" })">
                        <img alt="Desert" src="/Images/Img/Theme/5.jpg" width="200" height="150" /></a>
                    <a href="@Url.Action("SearchByTheme", "Sortie", new { Theme = "Thalaso" })">
                        <img alt="Thalaso" src="/Images/Img/Theme/4.jpg" width="200" height="150" /></a>
                    <a href="@Url.Action("SearchByTheme", "Sortie", new { Theme = "Archeologie" })">
                        <img alt="Archeologie" src="/Images/Img/Theme/1.jpg" width="200" height="150" /></a>
                    <a href="@Url.Action("SearchByTheme", "Sortie", new { Theme = "Sea" })">
                        <img alt="Sea" src="/Images/Img/Theme/2.jpg" width="200" height="150" /></a>
                    <a href="@Url.Action("SearchByTheme", "Sortie", new { Theme = "Golf" })">
                        <img alt="Golf" src="/Images/Img/Theme/3.jpg" width="200" height="150" /></a>
                </div>
            </section>*@
        </td>
    </tr>
</table>
<br />
<br />

<div id="result" style="visibility: hidden">
    <section class="featured">
        <div class="content-wrapper2">
            @*<div id="insert">*@
            <select id="instancesPerPage">
                <option value="999999999">All</option>
                <option value="3">3</option>
                <option value="5">5</option>
                <option value="10">10</option>
            </select>
            Instances per page
            <table id="tableSorties" data-provide="pagination" data-pager="#pager2">
                <thead>
                <tr>
                    <th>
                    </th>
                    <th  data-sort="string">
                    Description
                    </th>
                    <th data-sort="string">
                        Type
                    </th>
                    <th  data-sort="date">
                        Date
                    </th>
                    <th data-sort="float">
                        Heure Départ
                    </th>
                    @*<th>
                        Description
                    </th>
                    <th>
                        Type Excursion
                    </th>
                    <th>
                        ExcursionID
                    </th>*@
                    <th>
                    </th></tr>
                </thead>
            </table>
            <table class="pagination pagination-small" id="pager2">
            </table>
            @*<div id="pageNavPosition2">
            </div>*@ @*</div>*@
        </div>
    </section>
</div>
@*<script type="text/javascript">
      debugger;
      var pager2 = new Pager('tableSorties', 3);
      pager2.init();
      pager2.showPageNav('pager2', 'pageNavPosition2');
      pager2.showPage(1);
</script>*@ @*<p>
    <label>
        Select Client Type:
    </label>
    <input type="text" id="search-User" />
    <button id="text-email">
        search</button>
</p>
<p>
    
    @if ( MvcGlobalisationSupport.CultureManager.GetLanguage() == "de") {
    <label>
        Deutsh Sparche
    </label>
    }*@ @*    <label>
        Select date range:
    </label>
    
    <input type="text" class="dtp" id="startDate" />
    <input type="text" class="dtp" id="endDate" />
</p>
<table id="list" class="scroll" cellpadding="0" cellspacing="0">
</table>
<div id="pager" class="scroll" style="text-align: center;">
</div>*@ @*<script type="text/javascript"> 
$(document).ready(function () {
    var updateDialog = {
        url: '@Url.Action("Update", "Home")'
                , closeAfterAdd: true
                , closeAfterEdit: true
                , afterShowForm: function (formId) {
                    $("#PhoneNumber").mask("(999) 999-9999");
                    $("#DateReserv").datepicker();
                    $("#DateAnnulation").datepicker();
                    $("#DateModification").datepicker();
                    $("#DatePayement").datepicker();
                }
                , afterclickPgButtons: function (whichbutton, formid, rowid) {
                    $("#PhoneNumber").mask("(999) 999-9999");
                }
                , modal: true

                , onclickSubmit: function (params) {
                    var ajaxData = {};

                    var list = $("#list");
                    var selectedRow = list.getGridParam("selrow");
                    rowData = list.getRowData(selectedRow);
                    ajaxData = { ReservationID: rowData.ReservationID };

                    return ajaxData;

                }
                , width: "600"
    };

        var gridimgpath = '/ScriptsJqGrid/Scripts/jqgrid/themes/redmond/images';
        var gridDataUrl = '/Home/JsonSalesCollection';
        

        // use date.js to calculate the values for this month
        var startDate = Date.parse('today').moveToFirstDayOfMonth();
        var endDate = Date.parse('today');
        //

        $.jgrid.nav.addtext = "Ajouter";
        $.jgrid.nav.edittext = "Modifier";
        $.jgrid.nav.deltext = "Annuler";
        $.jgrid.edit.addCaption = "Ajout Reservation";
        $.jgrid.edit.editCaption = "Modification  Reservation";
        $.jgrid.del.caption = "Supprimer Reservation";
        $.jgrid.del.msg = "Supprimer cette reservation ?";
        $("#list").jqGrid({
            url: gridDataUrl + '?startDate=' + startDate.toJSONString() + '&endDate=' + endDate.toJSONString(),
            datatype: "json",
            mtype: 'GET',
            colNames: ['ReservationID', 'UserID', 'TypeClient', 'PointDepart', 'DateReserv', 'NumTicket', 'SortieID','HotelID','LangueID','Observation','Etat','DateAnnulation','DateModification','NbrAdultes','NbrEnfants','NbrBebes','Paye','DatePayement'],
            colModel: [
              { name: 'ReservationID', index: 'ReservationID', width: 50, align: 'left',  key: true, editable: true, editrules: { edithidden: false }, hidedlg: true, hidden: true },
              { name: 'UserID', index: 'UserID', width: 100, align: 'left', editable: true, edittype: 'text', editrules: { required: true }, formoptions: { elmsuffix: ' *'} },
              { name: 'TypeClient', index: 'TypeClient', width: 100, align: 'left', editable: true, edittype: 'text', editrules: { required: true }, formoptions: { elmsuffix: ' *'} },
              { name: 'PointDepart', index: 'PointDepart', width: 100, align: 'left', editable: true, edittype: 'text', editrules: { required: true }, formoptions: { elmsuffix: ' *'} },
              { name: 'DateReserv', index: 'DateReserv', width: 100, align: 'left', formatter: 'date', datefmt: 'm/d/Y', editable: true, edittype: 'text', editrules: { required: true, date: true }, formoptions: { elmsuffix: ' *'} },
              { name: 'NumTicket', index: 'NumTicket', width: 100, align: 'right', editable: true, edittype: 'text', editrules: { required: true }, formoptions: { elmsuffix: ' *'} },
              { name: 'SortieID', index: 'SortieID', editable: true, edittype: 'select',
                  editoptions: { dataUrl: '@Url.Action("GetExcursionsList","Home")',
                      buildSelect: function (data) {
                          var response = jQuery.parseJSON(data.responseText);
                          var s = '<select>';
                          if (response && response.length) {
                              for (var i = 0, l = response.length; i < l; i++) {
                                  var ri = response[i];
                                  s += '<option value="' + ri + '">' + ri + '</option>';
                              }
                          }
                          return s + "</select>";
                      }
                  }
              },
              { name: 'HotelID', index: 'HotelID', editable: true, edittype: 'select',
                  editoptions: { dataUrl: '@Url.Action("GetHotelsList","Home")',
                      buildSelect: function (data) {
                          var response = jQuery.parseJSON(data.responseText);
                          var s = '<select>';
                          if (response && response.length) {
                              for (var i = 0, l = response.length; i < l; i++) {
                                  var ri = response[i];
                                  s += '<option value="' + ri + '">' + ri + '</option>';
                              }
                          }
                          return s + "</select>";
                      }
                  }
              },
              { name: 'LangueID', index: 'LangueID', editable: true, edittype: 'select',
                  editoptions: { dataUrl: '@Url.Action("GetLanguesList","Home")',
                      buildSelect: function (data) {
                          var response = jQuery.parseJSON(data.responseText);
                          var s = '<select>';
                          if (response && response.length) {
                              for (var i = 0, l = response.length; i < l; i++) {
                                  var ri = response[i];
                                  s += '<option value="' + ri + '">' + ri + '</option>';
                              }
                          }
                          return s + "</select>";
                      }
                  }
              },
              { name: 'Observation', index: 'Observation', width: 40, align: 'left', editable: true, edittype: 'text', editrules: { required: true }, formoptions: { elmsuffix: ' *'} },
              { name: 'Etat', index: 'Etat', editable: true, edittype: 'select',
                  editoptions: { dataUrl: '@Url.Action("GetEtatsList","Home")',
                       buildSelect: function (data) {
                           var response = jQuery.parseJSON(data.responseText);
                           var s = '<select>';
                           if (response && response.length) {
                               for (var i = 0, l = response.length; i < l; i++) {
                                   var ri = response[i];
                                   s += '<option value="' + ri + '">' + ri + '</option>';
                               }
                           }
                           return s + "</select>";
                       }
                   }
               },
               { name: 'DateAnnulation', index: 'DateAnnulation', width: 40, align: 'left', formatter: 'date', datefmt: 'm/d/Y', editable: true, edittype: 'text', editrules: { required: true, date: true }, formoptions: { elmsuffix: ' *'} },
               { name: 'DateModification', index: 'DateModification', width: 40, align: 'left', formatter: 'date', datefmt: 'm/d/Y', editable: true, edittype: 'text', editrules: { required: true, date: true }, formoptions: { elmsuffix: ' *'} },
               { name: 'NbrAdultes', index: 'NbrAdultes', width: 55, align: 'left', editable: true, edittype: 'text', editrules: { required: true }, formoptions: { elmsuffix: ' *'} },
               { name: 'NbrEnfants', index: 'NbrEnfants', width: 55, align: 'left', editable: true, edittype: 'text', editrules: { required: true }, formoptions: { elmsuffix: ' *'} },
               { name: 'NbrBebes', index: 'NbrBebes', width: 55, align: 'left', editable: true, edittype: 'text', editrules: { required: true }, formoptions: { elmsuffix: ' *'} },
               { name: 'IsPaye', index: 'IsPaye', width: 40, align: 'left', editable: true, edittype: 'checkbox', editoptions: { value: "True:False" }, editrules: { required: true} },
               { name: 'DatePayement', index: 'DatePayement', width: 40, align: 'left', formatter: 'date', datefmt: 'm/d/Y', editable: true, edittype: 'text', editrules: { required: true, date: true }, formoptions: { elmsuffix: ' *'} }
               
               ],
            pager: $('#pager'),
            rowNum: 20,
            rowList: [10, 20, 30],
            sortname: 'ReservationID',
            imgpath: gridimgpath,
            //autowidth: true,
            //autoheight: true,
            height: '200',
            width: '1140',
            viewrecords: true,
            sortorder: "desc",
            caption: "Reservations",
            ondblClickRow: function (rowid, iRow, iCol, e) {
                $("#list").editGridRow(rowid, prmGridDialog);
            }
        }).navGrid('#listPager',
                {
                    edit: true, add: true, del: true, search: false, refresh: true
                },
                updateDialog,
                updateDialog,
                updateDialog
            );
//        .jqGrid('filterToolbar', { stringResult: true, searchOnEnter: true })
 
//        .jqGrid("navGrid", "#pager", { edit: true, add: true, del: true, search: false, refresh: true },
//                updateDialog,
//                updateDialog,
//                updateDialog
//                );

               


        $(function () {
            $(".dtp").datepicker(
            {
                closeText: 'Fermer', closeStatus: 'Fermer sans modifier',
                prevText: '&lt;Préc', prevStatus: 'Voir le mois précédent',
                nextText: 'Suiv&gt;', nextStatus: 'Voir le mois suivant',
                currentText: 'Courant', currentStatus: 'Voir le mois courant',
                monthNames: ['Janvier', 'Février', 'Mars', 'Avril', 'Mai', 'Juin',
                'Juillet', 'Août', 'Septembre', 'Octobre', 'Novembre', 'Décembre'],
                monthNamesShort: ['Jan', 'Fév', 'Mar', 'Avr', 'Mai', 'Jun',
                'Jul', 'Aoû', 'Sep', 'Oct', 'Nov', 'Déc'],
                monthStatus: 'Voir un autre mois', yearStatus: 'Voir un autre année',
                weekHeader: 'Sm', weekStatus: '',
                dayNames: ['Dimanche', 'Lundi', 'Mardi', 'Mercredi', 'Jeudi', 'Vendredi', 'Samedi'],
                dayNamesShort: ['Dim', 'Lun', 'Mar', 'Mer', 'Jeu', 'Ven', 'Sam'],
                dayNamesMin: ['Di', 'Lu', 'Ma', 'Me', 'Je', 'Ve', 'Sa'],
                dayStatus: 'Utiliser DD comme premier jour de la semaine', dateStatus: 'Choisir le DD, MM d',
                changeMonth: true,
                changeYear: true,
                dateFormat: 'D M d, yy',
                onSelect: function () {
                    // Set the vars whenever the date range changes and then filter the results
                    startDate = new Date($('#startDate').val());
                    endDate = new Date($('#endDate').val());
                    setGridUrl();
                }
            });
                       //Set the date range textbox values
                        $('#startDate').val(startDate.toDateString());
                        $('#endDate').val(endDate.toDateString());
                        // Set the grid json url to get the data to display
                        setGridUrl();
        });

//          $(function () {
//            // Configure the date range picker
//            $('.daterangepicker').daterangepicker({
//                dateFormat: 'D M d, yy',
//                posX: 100,
//                posY: '16.8em',
//                onChange: function () {
//                    // Set the vars whenever the date range changes and then filter the results
//                    startDate = new Date($('#startDate').val());
//                    endDate = new Date($('#endDate').val());
//                    setGridUrl();
//                }
//            });

//            // Set the date range textbox values
//            $('#startDate').val(startDate.toDateString());
//            $('#endDate').val(endDate.toDateString());

//            // Set the grid json url to get the data to display
//            setGridUrl();
//        });

        function setGridUrl() {
            // Get the start and end dates entered
            var newGridDataUrl = gridDataUrl + '?startDate=' + startDate.toJSONString() + '&endDate=' + endDate.toJSONString();

            // Set the parameters in the grid data source
            jQuery('#list').jqGrid('setGridParam', { url: newGridDataUrl }).trigger("reloadGrid");
        }



        $(function () {
            $('#text-email').click(function () {
                 
                startDate = new Date($('#startDate').val());
                endDate = new Date($('#endDate').val());
                //setGridUrl2();
                var areavalue = $('#search-User').val();
                // Get the start and end dates entered
                var newGridDataUrl = gridDataUrl + '?startDate=' + startDate.toJSONString() + '&endDate=' + endDate.toJSONString() + '&typeclient=' + areavalue.toString();

                // Set the parameters in the grid data source
                jQuery('#list').jqGrid('setGridParam', { url: newGridDataUrl }).trigger("reloadGrid");
               
            });
        });

        function setGridUrl2() {
            var areavalue = $('#search-User').val();
            // Get the start and end dates entered
            var newGridDataUrl = gridDataUrl + '?startDate=' + startDate.toJSONString() + '&endDate=' + endDate.toJSONString() + '&typeclient=' + areavalue.toString();

            // Set the parameters in the grid data source
            jQuery('#list').jqGrid('setGridParam', { url: newGridDataUrl }).trigger("reloadGrid");
        }

});
    </script>*@
@section featured {
    @*  <section class="featured">
        <div class="content-wrapper">
            <hgroup class="title">
                <h1>@ViewBag.Title.</h1>
                <h2>@ViewBag.Message</h2>
            </hgroup>
            <p>
                To learn more about ASP.NET MVC visit <a href="http://asp.net/mvc" title="ASP.NET MVC Website">
                    http://asp.net/mvc</a>. The page features
                <mark>videos, tutorials, and samples</mark>
                to help you get the most from ASP.NET MVC. If you have any questions about ASP.NET
                MVC visit <a href="http://forums.asp.net/1146.aspx/1?MVC" title="ASP.NET MVC Forum">
                    our forums</a>.
            </p>
        </div>
    </section>*@
}
@*<h3>We suggest the following:</h3>
<ol class="round">
    <li class="one">
        <h5>Getting Started</h5>
        ASP.NET MVC gives you a powerful, patterns-based way to build dynamic websites that
        enables a clean separation of concerns and that gives you full control over markup
        for enjoyable, agile development. ASP.NET MVC includes many features that enable
        fast, TDD-friendly development for creating sophisticated applications that use
        the latest web standards.
        <a href="http://go.microsoft.com/fwlink/?LinkId=245151">Learn more…</a>
    </li>

    <li class="two">
        <h5>Add NuGet packages and jump-start your coding</h5>
        NuGet makes it easy to install and update free libraries and tools.
        <a href="http://go.microsoft.com/fwlink/?LinkId=245153">Learn more…</a>
    </li>

    <li class="three">
        <h5>Find Web Hosting</h5>
        You can easily find a web hosting company that offers the right mix of features
        and price for your applications.
        <a href="http://go.microsoft.com/fwlink/?LinkId=245157">Learn more…</a>
    </li>
</ol>
*@